<% content_for :title do %>
  <%= t("title", scope: "decidim.admin.theme_maker") %>
<% end %>

<div class="card">
  <div class="card-divider">
    <h2 class="card-title">
      <%= t("title", scope: "decidim.admin.theme_maker") %>
      <%= link_to t("actions.new", scope: "decidim.admin.theme_maker"), new_theme_maker_path, class: "button tiny button--title" %>
    </h2>
  </div>

  <div class="card-section">
    <% if @theme_files.any? %>
      <div class="table-scroll">
        <table class="table-list">
          <thead>
            <tr>

              <th><%= t("models.theme_file.fields.page_url", scope: "decidim.admin") %></th>
              <th><%= t("models.theme_file.fields.global", scope: "decidim.admin") %></th>
              <th><%= t("models.theme_file.fields.filename", scope: "decidim.admin") %></th>
              <th><%= t("models.theme_file.fields.file_size", scope: "decidim.admin") %></th>
              <th><%= t("models.theme_file.fields.created_at", scope: "decidim.admin") %></th>
              <th class="actions"><%= t("actions.title", scope: "decidim.admin") %></th>
            </tr>
          </thead>
          <tbody>
            <% @theme_files.each do |theme_file| %>
              <tr>

                <td>
                  <%= theme_file.page_url %>
                </td>

                <td>
                  <%= theme_file.global %>
                </td>
                <td>
                  <%= theme_file.filename %>
                </td>
                <td>
                  <%= theme_file.file_size %>
                </td>
                <td>
                  <%= l theme_file.created_at, format: :long %>
                </td>
                <td class="table-list__actions">
                  <%= icon_link_to(
                    theme_maker_icons[:pencil],
                    edit_theme_maker_path(theme_file),
                    t("actions.edit", scope: "decidim.admin"),
                    class: "action-icon--edit"
                  )%>
                  <%= icon_link_to(
                    theme_maker_icons[:trash],
                    theme_maker_path(theme_file),
                    t("actions.destroy", scope: "decidim.admin"),
                    method: :delete,
                    class: "action-icon--remove",
                    data: { confirm: t("actions.confirm_destroy", scope: "decidim.admin") }
                  ) %>
                </td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    <% else %>
      <p class="text-center">
        <%= t("empty", scope: "decidim.admin.theme_maker") %>
      </p>
    <% end %>
  </div>
</div>
